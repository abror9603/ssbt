<form method="POST" action="{{#if isEdit}}/patients/{{patient.id}}{{else}}/patients{{/if}}" class="form" id="patientForm">
    {{#if error}}
    <div class="alert alert-error">
        {{error}}
    </div>
    {{/if}}

    <div class="form-group">
        <label for="name" class="form-label">Ism *</label>
        <input 
            type="text" 
            id="name" 
            name="name" 
            class="form-input" 
            value="{{patient.name}}" 
            required
            placeholder="Bemor ismi"
        >
        <span class="error-message" id="nameError"></span>
    </div>

    <div class="form-group">
        <label for="age" class="form-label">Yosh *</label>
        <input 
            type="number" 
            id="age" 
            name="age" 
            class="form-input" 
            value="{{patient.age}}" 
            required
            min="1"
            max="150"
            placeholder="Yosh"
        >
        <span class="error-message" id="ageError"></span>
    </div>

    <div class="form-group">
        <label for="kasallik" class="form-label">Kasallik turi *</label>
        <select 
            id="kasallik" 
            name="kasallik" 
            class="form-select" 
            required
        >
            <option value="hech_narsa" {{#if (eq patient.kasallik 'hech_narsa')}}selected{{/if}}>Hech narsa</option>
            <option value="diabet" {{#if (eq patient.kasallik 'diabet')}}selected{{/if}}>Diabet</option>
            <option value="gipertenziya" {{#if (eq patient.kasallik 'gipertenziya')}}selected{{/if}}>Gipertenziya</option>
            <option value="astma" {{#if (eq patient.kasallik 'astma')}}selected{{/if}}>Astma</option>
            <option value="yurak_kasalligi" {{#if (eq patient.kasallik 'yurak_kasalligi')}}selected{{/if}}>Yurak kasalligi</option>
        </select>
        <span class="error-message" id="kasallikError"></span>
    </div>

    <div class="form-group">
        <label for="medical_history" class="form-label">Tibbiy tarix</label>
        <textarea 
            id="medical_history" 
            name="medical_history" 
            class="form-textarea" 
            rows="5"
            placeholder="Bemor tibbiy tarixi">{{patient.medical_history}}</textarea>
    </div>

    <div class="form-group">
        <label for="phone" class="form-label">Telefon raqami *</label>
        <input 
            type="tel" 
            id="phone" 
            name="phone" 
            class="form-input" 
            value="{{patient.phone}}" 
            required
            placeholder="+998901234567"
            pattern="[+]?[0-9]{9,15}"
        >
        <span class="error-message" id="phoneError"></span>
    </div>

    <div class="form-group">
        <label for="email" class="form-label">Elektron pochta *</label>
        <input 
            type="email" 
            id="email" 
            name="email" 
            class="form-input" 
            value="{{patient.email}}" 
            required
            placeholder="email@example.com"
        >
        <span class="error-message" id="emailError"></span>
    </div>

    <div class="form-group">
        <label for="address" class="form-label">Manzil</label>
        <input 
            type="text" 
            id="address" 
            name="address" 
            class="form-input" 
            value="{{patient.address}}" 
            placeholder="Bemor manzili"
        >
    </div>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary">
            {{#if isEdit}}Saqlash{{else}}Qo'shish{{/if}}
        </button>
        <a href="/patients" class="btn btn-secondary">Bekor qilish</a>
    </div>
</form>

